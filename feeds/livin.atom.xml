<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title></title><link href="/" rel="alternate"></link><link href="/feeds/livin.atom.xml" rel="self"></link><id>/</id><updated>2014-01-27T23:48:00+08:00</updated><entry><title>如何基于 CB3 构建家庭服务器</title><link href="/cb3-howto-make-hmsrv.html" rel="alternate"></link><updated>2014-01-27T23:48:00+08:00</updated><author><name>Zoom.Quiet</name></author><id>tag:,2014-01-27:cb3-howto-make-hmsrv.html</id><summary type="html">
&lt;p&gt;&lt;a href="http://blog.zoomquiet.io/cbi-zq-install.html"&gt;CBInstallfest 的体验&lt;/a&gt;
之后,总是要一步步完成心目中的 家服务器&lt;/p&gt;
&lt;h2 id="issue"&gt;Issue&lt;/h2&gt;
&lt;p&gt;&lt;span class="caps"&gt;CB3&lt;/span&gt; lununtu-server-&lt;span class="caps"&gt;VGA&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;预装: &lt;/li&gt;
&lt;li&gt;sshd&lt;/li&gt;
&lt;li&gt;apt-fast&lt;/li&gt;
&lt;li&gt;vim&lt;/li&gt;
&lt;li&gt;mc&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不要: &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;php&lt;/li&gt;
&lt;li&gt;mysql&lt;/li&gt;
&lt;li&gt;apache&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="todo"&gt;&lt;span class="caps"&gt;TODO&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;为了完全替代俺家原先的家庭服务器,可以支持多系统的内网络使用, 还要折腾的事儿有:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过 &lt;span class="caps"&gt;USB&lt;/span&gt; 挂接 FreeBSD 格式化的 &lt;span class="caps"&gt;UFS&lt;/span&gt; 分区&lt;/li&gt;
&lt;li&gt;通过板载 &lt;span class="caps"&gt;SATA&lt;/span&gt; 接口,加装 2.5吋 1T 新硬盘&lt;/li&gt;
&lt;li&gt;安装 Samba 系统,提供空间给其它 M$ 设备使用&lt;/li&gt;
&lt;li&gt;安装 netatalk ,支持 &lt;code&gt;Apple Time Machine&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安装 MLDonkey 通过网页控制 &lt;code&gt;P2P&lt;/code&gt; 下载&lt;/li&gt;
&lt;li&gt;安装 MiniDLNA 发布家庭媒体服务,支持远程播放下载的电影&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;总之,要搾干 &lt;span class="caps"&gt;CB&lt;/span&gt; 的一切潜能!&lt;/p&gt;
&lt;h2 id="_1"&gt;分析&lt;/h2&gt;
&lt;h2 id="_2"&gt;过程&lt;/h2&gt;
&lt;h3 id="_3"&gt;数据迁移&lt;/h3&gt;
&lt;h3 id="nand"&gt;nand*&lt;/h3&gt;
&lt;p&gt;$ sudo !!
sudo fdisk -l /dev/nandc&lt;/p&gt;
&lt;p&gt;Disk /dev/nandc: 5469 &lt;span class="caps"&gt;MB&lt;/span&gt;, 5469372416 bytes
255 heads, 63 sectors/track, 664 cylinders, total 10682368 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000&lt;/p&gt;
&lt;p&gt;Disk /dev/nandc doesn’t contain a valid partition table&lt;/p&gt;
&lt;h3 id="fdisk"&gt;fdisk&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.liusuping.com/ubuntu-linux/linux-fdisk-disk.html"&gt;使用fdisk命令对linux硬盘进行操作 - Linux/Unix - 刘苏平的博客&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.itpub.net/26686207/viewspace-765782/"&gt;多硬盘分区管理fdisk-张丹-leonarding-&lt;span class="caps"&gt;ITPUB&lt;/span&gt;博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="_4"&gt;硬盘加挂&lt;/h3&gt;
&lt;p&gt;$ cat /proc/partitions
major minor  #blocks name&lt;/p&gt;
&lt;p&gt;93        0    7520256 nand
  93        1      65536 nanda
  93        2    2097152 nandb
  93        3    5341184 nandc
   8        0  976762584 sda
   8       16 1953514584 sdb
   8       17     204800 sdb1
   8       18  781380608 sdb2
   8       19 1171928064 sdb3&lt;/p&gt;
&lt;p&gt;sudo mount.exfat-fuse /dev/sdb2 /mnt/bk2wk
sudo mount.exfat-fuse /dev/sdb3 /mnt/dl4p2p&lt;/p&gt;
&lt;p&gt;但是, 远程 sshfs 后目录只读!?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;只能用 root 的远程用户登录…&lt;/li&gt;
&lt;li&gt;最好用 密匙…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://help.ubuntu.com/community/SSH/OpenSSH/Keys"&gt;&lt;span class="caps"&gt;SSH&lt;/span&gt;/OpenSSH/Keys - Community Ubuntu Documentation&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;/etc/ssh/sshd_config contains the following lines, and that they are uncommented;&lt;/p&gt;
&lt;p&gt;PubkeyAuthentication yes
RSAAuthentication yes&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Permission denied (publickey)&lt;/code&gt; &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# chmod go-w ~/&lt;/span&gt;
&lt;span class="c"&gt;# chmod 700 ~/.ssh&lt;/span&gt;
&lt;span class="c"&gt;# chmod 600 ~/.ssh/authorized_keys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h5 id="gpart"&gt;gpart&lt;/h5&gt;
&lt;p&gt;&lt;a href="http://blog.sunchangming.com/post/47268338621"&gt;gpt的悲剧 | A programmer’s life&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.oseems.com/general/operatingsystem/linux/recover-lost-partition-table"&gt;How to recover lost partition table using Ubuntu Live &lt;span class="caps"&gt;CD&lt;/span&gt; and gpart&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$ sudo fdisk -l /dev/sdb&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;WARNING&lt;/span&gt;: &lt;span class="caps"&gt;GPT&lt;/span&gt; (&lt;span class="caps"&gt;GUID&lt;/span&gt; Partition Table) detected on ‘/dev/sdb’! The util fdisk doesn’t support &lt;span class="caps"&gt;GPT&lt;/span&gt;. Use &lt;span class="caps"&gt;GNU&lt;/span&gt; Parted.&lt;/p&gt;
&lt;p&gt;Disk /dev/sdb: 2000.4 &lt;span class="caps"&gt;GB&lt;/span&gt;, 2000398934016 bytes
255 heads, 63 sectors/track, 243201 cylinders, total 3907029168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000&lt;/p&gt;
&lt;p&gt;Device Boot      Start         End      Blocks   Id  System
/dev/sdb1               1      409639      204819+  ee  &lt;span class="caps"&gt;GPT&lt;/span&gt;
/dev/sdb2          411648  1563172863   781380608    7  &lt;span class="caps"&gt;HPFS&lt;/span&gt;/&lt;span class="caps"&gt;NTFS&lt;/span&gt;/exFAT
/dev/sdb3      1563172864  3907028991  1171928064    7 &lt;span class="caps"&gt;HPFS&lt;/span&gt;/&lt;span class="caps"&gt;NTFS&lt;/span&gt;/exFAT&lt;/p&gt;
&lt;p&gt;$ sudo fdisk -l /dev/sda&lt;/p&gt;
&lt;p&gt;Disk /dev/sda: 1000.2 &lt;span class="caps"&gt;GB&lt;/span&gt;, 1000204886016 bytes
255 heads, 63 sectors/track, 121601 cylinders, total 1953525168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disk identifier: 0x00000000&lt;/p&gt;
&lt;p&gt;Disk /dev/sda doesn’t contain a valid partition table&lt;/p&gt;
&lt;h4 id="exfat"&gt;exFAT&lt;/h4&gt;
&lt;p&gt;$ cat /etc/lsb-release.bk
DISTRIB_ID=Linaro
DISTRIB_RELEASE=13.08
DISTRIB_CODENAME=raring
DISTRIB_DESCRIPTION=”Linaro 13.08”&lt;/p&gt;
&lt;p&gt;$ sudo vi /etc/lsb-release
DISTRIB_ID=Ubuntu
DISTRIB_RELEASE=13.04
DISTRIB_CODENAME=raring
DISTRIB_DESCRIPTION=”Ubuntu 13.04”&lt;/p&gt;
&lt;p&gt;$ sudo apt-add-repository ppa:relan/exfat
你将向系统添加如下 &lt;span class="caps"&gt;PPA&lt;/span&gt;：
 &lt;span class="caps"&gt;PPA&lt;/span&gt; for the free exFAT file system implementation project: http://code.google.com/p/exfat/
 更多信息： https://launchpad.net/~relan/+archive/exfat
按回车继续或者 Ctrl+c 取消添加&lt;/p&gt;
&lt;p&gt;gpg: 钥匙环‘/tmp/tmppjaczn/secring.gpg’已建立
gpg: 钥匙环‘/tmp/tmppjaczn/pubring.gpg’已建立
gpg: 下载密钥‘&lt;span class="caps"&gt;A252A784&lt;/span&gt;’，从 hkp 服务器 keyserver.ubuntu.com
gpg: /tmp/tmppjaczn/trustdb.gpg：建立了信任度数据库
gpg: 密钥 &lt;span class="caps"&gt;A252A784&lt;/span&gt;：公钥“Launchpad Free exFAT file system implementation”已导入
gpg: 合计被处理的数量：1
gpg:               已导入：1  (&lt;span class="caps"&gt;RSA&lt;/span&gt;: 1) &lt;span class="caps"&gt;OK&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$ acs exfat
exfat-fuse - read and write exFAT driver for &lt;span class="caps"&gt;FUSE&lt;/span&gt;
exfat-utils - utilities to create, check, label and dump exFAT filesystem&lt;/p&gt;
&lt;p&gt;$ agi exfat-fuse&lt;/p&gt;
&lt;p&gt;Working… this may take a while.&lt;/p&gt;
&lt;h1 id="apt-fast-mirror-list-mon-jan-27-164210-utc-2014"&gt;apt-fast mirror list: Mon Jan 27 16:42:10 &lt;span class="caps"&gt;UTC&lt;/span&gt; 2014&lt;/h1&gt;
&lt;p&gt;http://ports.ubuntu.com/ubuntu-ports/pool/universe/f/fuse-exfat/exfat-fuse_1.0.1-1_armhf.deb
 checksum=md5=fcacfbade2df1f97d72ba9912961883f
 out=exfat-fuse_1.0.1-1_armhf.deb
http://ports.ubuntu.com/ubuntu-ports/pool/universe/e/exfat-utils/exfat-utils_1.0.1-1_armhf.deb
 checksum=md5=ef8bc2e59569645b7140e930e81809f3
 out=exfat-utils_1.0.1-1_armhf.deb …&lt;/p&gt;
&lt;p&gt;下载结果：
gid   |stat|avg speed  |path/&lt;span class="caps"&gt;URI&lt;/span&gt;
======+====+===========+=======================================================
07028f|&lt;span class="caps"&gt;OK&lt;/span&gt;  |    66KiB/s|/var/cache/apt/archives/apt-fast/exfat-fuse_1.0.1-1_armhf.deb
e4fa30|&lt;span class="caps"&gt;OK&lt;/span&gt;  | 40KiB/s|/var/cache/apt/archives/apt-fast/exfat-utils_1.0.1-1_armhf.deb&lt;/p&gt;
&lt;p&gt;状态标识：
(&lt;span class="caps"&gt;OK&lt;/span&gt;)：完成下载。
正在读取软件包列表… 完成
正在分析软件包的依赖关系树
正在读取状态信息… 完成
将会安装下列额外的软件包：
  exfat-utils
下列【新】软件包将被安装：
  exfat-fuse exfat-utils
升级了 0 个软件包，新安装了 2 个软件包，要卸载 0 个软件包，有 1 个软件包未被升级。
需要下载 0 B/80.7 kB 的软件包。
解压缩后会消耗掉 248 kB 的额外空间。
您希望继续执行吗？[Y/n]
【警告】：下列软件包不能通过验证！
  exfat-fuse exfat-utils
忽略了认证警告。
Selecting previously unselected package exfat-fuse.
(正在读取数据库 … 系统当前共安装有 27896 个文件和目录。)
正在解压缩 exfat-fuse (从 …/exfat-fuse_1.0.1-1_armhf.deb) …
Selecting previously unselected package exfat-utils.
正在解压缩 exfat-utils (从 …/exfat-utils_1.0.1-1_armhf.deb) …
正在处理用于 man-db 的触发器…
正在设置 exfat-fuse (1.0.1-1) …
正在设置 exfat-utils (1.0.1-1) …&lt;/p&gt;
&lt;h3 id="_5"&gt;系统整顿&lt;/h3&gt;
&lt;h4 id="mysql"&gt;MySQL&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.blogjava.net/yjhmily/articles/336926.html"&gt;Ubuntu下彻底卸载mysql - yjhmily - BlogJava&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://stackoverflow.com/questions/10853004/removing-mysql-5-5-completely"&gt;ubuntu - Removing MySQL 5.5 Completely - Stack Overflow&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$ sudo apt-get remove —purge mysql-server mysql-client mysql-common&lt;/p&gt;
&lt;p&gt;(Reading database … 27889 files and directories currently installed.)
Removing linaro-lamp-server …
Removing mysql-server …
Removing mysql-server-5.5 …
Purging configuration files for mysql-server-5.5 …
Removing mysql-client-5.5 …
Removing libdbd-mysql-perl …
Removing php5-mysql …
Purging configuration files for php5-mysql …
Removing libmysqlclient18:armhf …
Purging configuration files for libmysqlclient18:armhf …
Removing mysql-common …
Purging configuration files for mysql-common …
dpkg: warning: while removing mysql-common, directory ‘/etc/mysql’ not empty so not removed
Processing triggers for man-db …
Processing triggers for ureadahead …
Processing triggers for libapache2-mod-php5 …
 * Reloading web server config
   …done.
Processing triggers for libc-bin …
ldconfig deferred processing now taking place
Selecting previously unselected package dmidecode.
(Reading database … 27705 files and directories currently installed.)
Unpacking dmidecode (from …/dmidecode_2.12-0linaro1_armhf.deb) …
Processing triggers for man-db …
Setting up dmidecode (2.12-0linaro1) …&lt;/p&gt;
&lt;p&gt;$ sudo rm -rf /var/lib/mysql&lt;/p&gt;
&lt;h4 id="utf8"&gt;&lt;span class="caps"&gt;UTF8&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;$ locale
&lt;span class="caps"&gt;LANG&lt;/span&gt;=
&lt;span class="caps"&gt;LANGUAGE&lt;/span&gt;=
LC_CTYPE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_NUMERIC=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_TIME=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_COLLATE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MONETARY=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MESSAGES=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_PAPER=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_NAME=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_ADDRESS=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_TELEPHONE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MEASUREMENT=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_IDENTIFICATION=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;” LC_ALL=&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://fruit.je/utf-8"&gt;Using &lt;span class="caps"&gt;UTF&lt;/span&gt;-8 in Debian&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://wiki.ubuntu.org.cn/%E4%BF%AE%E6%94%B9locale"&gt;修改locale - Ubuntu中文&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$ locale
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_ALL to default locale: No such file or directory
&lt;span class="caps"&gt;LANG&lt;/span&gt;=en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8
&lt;span class="caps"&gt;LANGUAGE&lt;/span&gt;=
LC_CTYPE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_NUMERIC=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_TIME=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_COLLATE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MONETARY=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MESSAGES=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_PAPER=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_NAME=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_ADDRESS=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_TELEPHONE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MEASUREMENT=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_IDENTIFICATION=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8” LC_ALL=&lt;/p&gt;
&lt;p&gt;$ cat /etc/default/locale &lt;span class="caps"&gt;LANG&lt;/span&gt;=C.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8&lt;/p&gt;
&lt;p&gt;$ locale -a
locale: Cannot set LC_CTYPE to default locale: No such file or directory
locale: Cannot set LC_MESSAGES to default locale: No such file or directory
locale: Cannot set LC_COLLATE to default locale: No such file or directory
C
C.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8
&lt;span class="caps"&gt;POSIX&lt;/span&gt;
zh_CN.utf8
zh_HK.utf8
zh_SG.utf8 zh_TW.utf8&lt;/p&gt;
&lt;p&gt;重启后依然!&lt;/p&gt;
&lt;p&gt;zoomq@cubietruck:~$ locale
&lt;span class="caps"&gt;LANG&lt;/span&gt;=
&lt;span class="caps"&gt;LANGUAGE&lt;/span&gt;=
LC_CTYPE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_NUMERIC=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_TIME=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_COLLATE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MONETARY=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MESSAGES=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_PAPER=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_NAME=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_ADDRESS=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_TELEPHONE=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_MEASUREMENT=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;”
LC_IDENTIFICATION=”&lt;span class="caps"&gt;POSIX&lt;/span&gt;” LC_ALL=&lt;/p&gt;
&lt;p&gt;但是,从 screen 中进入时,就已经
$ locale
&lt;span class="caps"&gt;LANG&lt;/span&gt;=en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8
&lt;span class="caps"&gt;LANGUAGE&lt;/span&gt;=en_US:en
LC_CTYPE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_NUMERIC=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_TIME=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_COLLATE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MONETARY=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MESSAGES=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_PAPER=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_NAME=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_ADDRESS=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_TELEPHONE=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_MEASUREMENT=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8”
LC_IDENTIFICATION=”en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8” LC_ALL=&lt;/p&gt;
&lt;h3 id="_6"&gt;软件安装&lt;/h3&gt;
&lt;h3 id="_7"&gt;睡觉维护&lt;/h3&gt;
&lt;h2 id="hhd"&gt;&lt;span class="caps"&gt;HHD&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Disk /dev/sda: 1000.2 &lt;span class="caps"&gt;GB&lt;/span&gt;, 1000204886016 bytes
255 heads, 63 sectors/track, 121601 cylinders, total 1953525168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disk identifier: 0x00000000&lt;/p&gt;
&lt;p&gt;Disk /dev/sda doesn’t contain a valid partition table&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;WARNING&lt;/span&gt;: &lt;span class="caps"&gt;GPT&lt;/span&gt; (&lt;span class="caps"&gt;GUID&lt;/span&gt; Partition Table) detected on ‘/dev/sdb’! The util fdisk doesn’t support &lt;span class="caps"&gt;GPT&lt;/span&gt;. Use &lt;span class="caps"&gt;GNU&lt;/span&gt; Parted.&lt;/p&gt;
&lt;p&gt;Disk /dev/sdb: 2000.4 &lt;span class="caps"&gt;GB&lt;/span&gt;, 2000398934016 bytes
256 heads, 63 sectors/track, 242251 cylinders, total 3907029168 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk identifier: 0x00000000&lt;/p&gt;
&lt;p&gt;Device Boot      Start         End      Blocks   Id  System
/dev/sdb1   *           1  3907029167  1953514583+  ee &lt;span class="caps"&gt;GPT&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$ cat /proc/partitions
major minor  #blocks name&lt;/p&gt;
&lt;p&gt;93        0    7520256 nand
  93        1      65536 nanda
  93        2    2097152 nandb
  93        3    5341184 nandc
   8        0  976762584 sda
   8       16 1953514584 sdb
   8       17         64 sdb1
   8       18    8388608 sdb2
   8       19 1943011328 sdb3
   8       20    2114547 sdb4&lt;/p&gt;
&lt;h3 id="ufs"&gt;&lt;span class="caps"&gt;UFS&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://forums.fedoraforum.org/showthread.php?t=285255"&gt;mount external partition - FedoraForum.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;$ ll /lib/modules/3.4.61+/kernel/fs/
total 20
drwxrwxr-x 2 1003 1003 4096 Nov 12 12:24 exportfs
drwxrwxr-x 2 1003 1003 4096 Nov 12 12:24 jffs2
drwxrwxr-x 2 1003 1003 4096 Nov 12 12:24 nfsd
drwxrwxr-x 2 1003 1003 4096 Nov 12 12:24 squashfs
drwxrwxr-x 2 1003 1003 4096 Nov 12 12:24 ubifs&lt;/p&gt;
&lt;h4 id="_8"&gt;外置硬盘盒&lt;/h4&gt;
&lt;p&gt;$ dmesg |grep umass
umass0: &lt;norelsys 0="" 0,="" 1.00,="" 2="" 2.10="" addr="" class="" ns1066,="" rev=""&gt; on usbus6
umass0:  &lt;span class="caps"&gt;SCSI&lt;/span&gt; over Bulk-Only; quirks = 0x0100
umass0:6:0:-1: Attached to scbus6
(probe0:umass-sim0:0:0:0): &lt;span class="caps"&gt;REPORT&lt;/span&gt; &lt;span class="caps"&gt;LUNS&lt;/span&gt;. &lt;span class="caps"&gt;CDB&lt;/span&gt;: a0 0 0 0 0 0 0 0 0 10 0 0
(probe0:umass-sim0:0:0:0): &lt;span class="caps"&gt;CAM&lt;/span&gt; status: &lt;span class="caps"&gt;SCSI&lt;/span&gt; Status Error
(probe0:umass-sim0:0:0:0): &lt;span class="caps"&gt;SCSI&lt;/span&gt; status: Check Condition
(probe0:umass-sim0:0:0:0): &lt;span class="caps"&gt;SCSI&lt;/span&gt; sense: &lt;span class="caps"&gt;ILLEGAL&lt;/span&gt; &lt;span class="caps"&gt;REQUEST&lt;/span&gt; asc:20,0 (Invalid command operation code)
da0 at umass-sim0 bus 0 scbus6 target 0 lun 0&lt;/norelsys&gt;&lt;/p&gt;
&lt;p&gt;$ dmesg | grep da0
ada0 at ata4 bus 0 scbus2 target 0 lun 0
ada0: &lt;st3160815as 3.ada=""&gt; &lt;span class="caps"&gt;ATA&lt;/span&gt;-7 &lt;span class="caps"&gt;SATA&lt;/span&gt; 2.x device
ada0: 300.&lt;span class="caps"&gt;000MB&lt;/span&gt;/s transfers (&lt;span class="caps"&gt;SATA&lt;/span&gt; 2.x, &lt;span class="caps"&gt;UDMA5&lt;/span&gt;, &lt;span class="caps"&gt;PIO&lt;/span&gt; 8192bytes)
ada0: &lt;span class="caps"&gt;152587MB&lt;/span&gt; (312500000 512 byte sectors: 16H 63S/T 16383C)
ada0: Previously was known as ad8
Trying to mount root from ufs:/dev/ada0s1a [rw]…
da0 at umass-sim0 bus 0 scbus6 target 0 lun 0
da0: &lt;ata cc3c="" st2000dl003-9vt1=""&gt; Fixed Direct Access &lt;span class="caps"&gt;SCSI&lt;/span&gt;-6 device
da0: 40.&lt;span class="caps"&gt;000MB&lt;/span&gt;/s transfers
da0: &lt;span class="caps"&gt;1907729MB&lt;/span&gt; (3907029168 512 byte sectors: 255H 63S/T 243201C)&lt;/ata&gt;&lt;/st3160815as&gt;&lt;/p&gt;
&lt;p&gt;$ gpart show /dev/da0
=&amp;gt;        34  3907029101  da0  &lt;span class="caps"&gt;GPT&lt;/span&gt;  (1.8T)
          34           6       - free -  (3.0k)
          40         128    1  freebsd-boot  (64k)
         168    16777216    2  freebsd-ufs  (8.0G)
    16777384  3886022656    3  freebsd-ufs  (1.8T)
  3902800040     4229094    4  freebsd-swap  (2.0G)
  3907029134           1       - free - (512B)&lt;/p&gt;
&lt;h3 id="sata"&gt;&lt;span class="caps"&gt;SATA&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;$ dmesg | grep ada
ada0 at ata4 bus 0 scbus2 target 0 lun 0
ada0: &lt;st3160815as 3.ada=""&gt; &lt;span class="caps"&gt;ATA&lt;/span&gt;-7 &lt;span class="caps"&gt;SATA&lt;/span&gt; 2.x device
ada0: 300.&lt;span class="caps"&gt;000MB&lt;/span&gt;/s transfers (&lt;span class="caps"&gt;SATA&lt;/span&gt; 2.x, &lt;span class="caps"&gt;UDMA5&lt;/span&gt;, &lt;span class="caps"&gt;PIO&lt;/span&gt; 8192bytes)
ada0: &lt;span class="caps"&gt;152587MB&lt;/span&gt; (312500000 512 byte sectors: 16H 63S/T 16383C)
ada0: Previously was known as ad8
ada1 at ata5 bus 0 scbus3 target 0 lun 0
ada1: &lt;st2000dl003-9vt166 cc3c=""&gt; &lt;span class="caps"&gt;ATA&lt;/span&gt;-8 &lt;span class="caps"&gt;SATA&lt;/span&gt; 3.x device
ada1: 300.&lt;span class="caps"&gt;000MB&lt;/span&gt;/s transfers (&lt;span class="caps"&gt;SATA&lt;/span&gt; 2.x, &lt;span class="caps"&gt;UDMA5&lt;/span&gt;, &lt;span class="caps"&gt;PIO&lt;/span&gt; 8192bytes)
ada1: &lt;span class="caps"&gt;1907729MB&lt;/span&gt; (3907029168 512 byte sectors: 16H 63S/T 16383C)
ada1: Previously was known as ad10
Trying to mount root from ufs:/dev/ada0s1a [rw]…&lt;/st2000dl003-9vt166&gt;&lt;/st3160815as&gt;&lt;/p&gt;
&lt;p&gt;$ gpart show /dev/ada1
=&amp;gt;        34  3907029101  ada1  &lt;span class="caps"&gt;GPT&lt;/span&gt;  (1.8T)
          34           6        - free -  (3.0k)
          40         128     1  freebsd-boot  (64k)
         168    16777216     2  freebsd-ufs  (8.0G)
    16777384  3886022656     3  freebsd-ufs  (1.8T)
  3902800040     4229094     4  freebsd-swap  (2.0G)
  3907029134           1        - free - (512B)&lt;/p&gt;
&lt;p&gt;$ sudo mount /dev/ada1p3 /mnt/ada1
mount: /dev/ada1p3 : Operation not permitted&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;BIOS&lt;/span&gt; 配置好打开对应的 &lt;span class="caps"&gt;SATA&lt;/span&gt; 接口,
进入系统后:
$ gpart show /dev/ada1
=&amp;gt;        34  3907029101  ada1  &lt;span class="caps"&gt;GPT&lt;/span&gt;  (1.8T)
          34           6        - free -  (3.0k)
          40         128     1  freebsd-boot  (64k)
         168    16777216     2  freebsd-ufs  (8.0G)
    16777384  3886022656     3  freebsd-ufs  (1.8T)
  3902800040     4229094     4  freebsd-swap  (2.0G)
  3907029134           1        - free - (512B)&lt;/p&gt;
&lt;p&gt;$ ls /dev/ada*
/dev/ada0     /dev/ada0s1   /dev/ada0s1a  /dev/ada0s1b  /dev/ada1
/dev/ada1p1   /dev/ada1p2   /dev/ada1p3 /dev/ada1p4&lt;/p&gt;
&lt;p&gt;这是系统盘:
$ gpart show /dev/ada0
=&amp;gt;       63  312499937  ada0  &lt;span class="caps"&gt;MBR&lt;/span&gt;  (149G)
         63  312475590     1  freebsd  [active]  (149G)
  312475653      24347        - free - (11M)&lt;/p&gt;
&lt;p&gt;$ sudo mount /dev/ada1p3 /mnt/ada1
mount: /dev/ada1p3 : Operation not permitted&lt;/p&gt;
&lt;p&gt;这就不明白了,,,
目测是 &lt;span class="caps"&gt;UFS&lt;/span&gt; 格式也有不同的?!&lt;/p&gt;
&lt;p&gt;$ brew link fuse4x
Linking /usr/local/Cellar/fuse4x/0.9.2… Warning: Could not link fuse4x. Unlinking…&lt;/p&gt;
&lt;p&gt;Error: Could not symlink file: /usr/local/Cellar/fuse4x/0.9.2/lib/pkgconfig/fuse.pc
Target /usr/local/lib/pkgconfig/fuse.pc already exists. You may need to delete it.
To force the link and overwrite all other conflicting files, do:
  brew link —overwrite formula_name&lt;/p&gt;
&lt;p&gt;To list all files that would be deleted:
  brew link —overwrite —dry-run formula_name&lt;/p&gt;
&lt;p&gt;zoomq @ &lt;span class="caps"&gt;MBP111216ZQ&lt;/span&gt; in /usr/local/lib
$ brew link —overwrite fuse4x
Linking /usr/local/Cellar/fuse4x/0.9.2… 7 symlinks created&lt;/p&gt;
&lt;p&gt;$ brew install osxfuse
==&amp;gt; Downloading https://downloads.sf.net/project/machomebrew/Bottles/osxfuse-2.6.2.mavericks.bottle.tar.gz&lt;/p&gt;
&lt;h6 id="1000"&gt;################################################################## 100.0%&lt;/h6&gt;
&lt;p&gt;==&amp;gt; Pouring osxfuse-2.6.2.mavericks.bottle.tar.gz
==&amp;gt; Caveats
If upgrading from a previous version of osxfuse, the previous kernel extension
will need to be unloaded before installing the new version. First, check that
no &lt;span class="caps"&gt;FUSE&lt;/span&gt;-based file systems are running:&lt;/p&gt;
&lt;p&gt;mount -t osxfusefs&lt;/p&gt;
&lt;p&gt;Unmount all &lt;span class="caps"&gt;FUSE&lt;/span&gt; file systems and then unload the kernel extension:&lt;/p&gt;
&lt;p&gt;sudo kextunload -b com.github.osxfuse.filesystems.osxfusefs&lt;/p&gt;
&lt;p&gt;The new osxfuse file system bundle needs to be installed by the root user:&lt;/p&gt;
&lt;p&gt;sudo /bin/cp -RfX /usr/local/Cellar/osxfuse/2.6.2/Library/Filesystems/osxfusefs.fs /Library/Filesystems
  sudo chmod +s /Library/Filesystems/osxfusefs.fs/Support/load_osxfusefs
==&amp;gt; Summary
🍺  /usr/local/Cellar/osxfuse/2.6.2: 84 files, 5.0M&lt;/p&gt;
&lt;h3 id="xfs"&gt;&lt;span class="caps"&gt;XFS&lt;/span&gt;&lt;/h3&gt;
&lt;h1 id="changelog"&gt;Changelog&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;140127 单立文章追踪&lt;/li&gt;
&lt;/ul&gt;</summary><category term="MAC"></category><category term="CT"></category><category term="Cubier"></category><category term="CubieBoard"></category><category term="Howto"></category></entry><entry><title>迁出RTFD.org</title><link href="/jump-into-7niu.html" rel="alternate"></link><updated>2014-01-19T00:00:00+08:00</updated><author><name>Zoom.Quiet</name></author><id>tag:,2014-01-19:jump-into-7niu.html</id><summary type="html">&lt;h1 id="rtfdorg"&gt;&lt;span class="caps"&gt;RTFD&lt;/span&gt;.org&lt;/h1&gt;
&lt;h2 id="_1"&gt;原先&lt;/h2&gt;
&lt;h2 id="_2"&gt;现在&lt;/h2&gt;
&lt;p&gt;&lt;img alt="d005a8bd08c1" src="https://f.cloud.github.com/assets/834231/1538179/849551c2-4cdc-11e3-9759-d005a8bd08c1.jpg" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/rtfd/readthedocs.org/issues/435"&gt;Many builds stuck in &amp;#8220;triggered&amp;#8221; state · Issue #435 ·&amp;nbsp;rtfd/readthedocs.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/rtfd/readthedocs.org/issues/592"&gt;how stop a build triggered from long time ago with finish · Issue #592 ·&amp;nbsp;rtfd/readthedocs.org&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;然后&lt;/h2&gt;
&lt;h3 id="dot"&gt;.dot&lt;/h3&gt;
&lt;h3 id="_4"&gt;域名绑定&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://segmentfault.com/q/1010000000386448"&gt;无法使用交通银行支持!&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="_5"&gt;是也乎&lt;/h2&gt;
&lt;h1 id="changelog"&gt;Changelog&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;140119&amp;nbsp;开始总结&lt;/li&gt;
&lt;/ul&gt;</summary><category term="RTFD"></category><category term="qiniu"></category><category term="triggered"></category></entry><entry><title>CBInstallfest 的体验</title><link href="/cbi-zq-install.html" rel="alternate"></link><updated>2014-01-11T00:00:00+08:00</updated><author><name>Zoom.Quiet</name></author><id>tag:,2014-01-11:cbi-zq-install.html</id><summary type="html">
&lt;h2 id="cbi"&gt;&lt;span class="caps"&gt;CBI&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://blog.zhgdg.org/2014-01/et-cbi1/"&gt;CBInstall.1 欢乐完成&lt;/a&gt; 记要了现场活动的情况;&lt;/p&gt;
&lt;p&gt;当然,俺也是学员之一,要交作业的,所以,俺的刷机笔记如下:&lt;/p&gt;
&lt;h2 id="_1"&gt;目标&lt;/h2&gt;
&lt;p&gt;用&lt;span class="caps"&gt;CB3&lt;/span&gt; 替代原先的兼容 &lt;span class="caps"&gt;PC&lt;/span&gt; 机作家庭服务器!&lt;/p&gt;
&lt;h2 id="_2"&gt;环境&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="caps"&gt;MBP&lt;/span&gt; 11年下半年版, 15吋&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;MAC&lt;/span&gt; &lt;span class="caps"&gt;OS&lt;/span&gt; X 10.9 Mavericks&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;CB3&lt;/span&gt;(CubieTruck) 以及套件的配件&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_3"&gt;刷机&lt;/h2&gt;
&lt;p&gt;果然如宣传的,是那么简单!&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;准备工具 ~ &lt;a href="http://docs.cubieboard.org/tutorials/common/livesuit_installation_guide"&gt;LiveSuit&lt;/a&gt; &lt;/li&gt;
&lt;li&gt;下载镜像 ~ &lt;a href="http://dl.cubieboard.org/software"&gt;&lt;span class="caps"&gt;NAND&lt;/span&gt;镜像&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;刷机&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;尝试了 arch linux 的镜像,发觉进入后包管理命令,完全不熟悉,所以,只好坚持使用 Ubuntu了.&lt;/p&gt;
&lt;h3 id="_4"&gt;细节&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.cubieboard.org/tutorials/common/livesuit_installation_guide"&gt;LiveSuit&lt;/a&gt; 真心傻瓜,在&lt;span class="caps"&gt;MAC&lt;/span&gt; 上完全无碍!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="livesuit_mac" src="http://zoomq.qiniudn.com/ZHGDG/2014/140111-CBInstallfest.1/livesuit_mac.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;下载时,为了大家的幸福,不要下载 .img 的文件,下载压缩的 .gz 文档本地解开就好&lt;/p&gt;
&lt;p&gt;$ 7z x lubuntu-server-nand.img.gz&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为了防止手指意外的摸到带电元件,应该先将赠送的&lt;span class="caps"&gt;PV&lt;/span&gt;板安装上,注意:
&lt;img alt="cubietruck_fel_button" src="http://dyhr.com/wp-content/uploads/Cubietruck_FEL_button-300x224.jpg"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正确的次序&lt;/li&gt;
&lt;li&gt;以及要将板上的保护膜清除&lt;/li&gt;
&lt;li&gt;另外,应该用 &lt;span class="caps"&gt;CB&lt;/span&gt; 驱动激光雕刻仪,来给每个&lt;span class="caps"&gt;PV&lt;/span&gt; 板刻上 &lt;span class="caps"&gt;CB&lt;/span&gt;小猴纸的 logo ,建议已经严正向 Benn 吼过了&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;刷机时, &lt;code&gt;FEL&lt;/code&gt; 键-&lt;span class="caps"&gt;USB&lt;/span&gt;线-电脑的先后顺序:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;电脑里先运行 LiveSuit 并加载目标&lt;span class="caps"&gt;NAND&lt;/span&gt; 镜像&lt;/li&gt;
&lt;li&gt;按住&lt;code&gt;FEL&lt;/code&gt; 键,不松,然后插入&lt;span class="caps"&gt;USB&lt;/span&gt;线&lt;/li&gt;
&lt;li&gt;再将 &lt;span class="caps"&gt;USB&lt;/span&gt;线插入电脑&lt;/li&gt;
&lt;li&gt;然后松开 &lt;code&gt;FEL&lt;/code&gt; 键&lt;/li&gt;
&lt;li&gt;LiveSuit 识别外部 &lt;span class="caps"&gt;CB&lt;/span&gt; 板,开始请求确认,准备好开始刷机了&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;刷机一般5分钟以内就可以完成:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LiveSute 进度 100% 提示已经完成&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;CB&lt;/span&gt; 板上的几个 &lt;span class="caps"&gt;LED&lt;/span&gt; 灯开始闪动&lt;/li&gt;
&lt;li&gt;这时,可以长按板上的 &lt;code&gt;POWER ON&lt;/code&gt; 键,进行热关闭&lt;/li&gt;
&lt;li&gt;等板上的灯都更灭时,代表 &lt;span class="caps"&gt;CB&lt;/span&gt; 已经加载的系统完全终止运行&lt;/li&gt;
&lt;li&gt;这时就可以拔下 &lt;span class="caps"&gt;USB&lt;/span&gt; 线了&lt;/li&gt;
&lt;li&gt;再将 &lt;span class="caps"&gt;CB&lt;/span&gt; 的电源插入,刷好的系统就真正自举运行起来了!&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;首次启动系统时, Ubuntu 会尝试获得当前的网络&lt;span class="caps"&gt;IP&lt;/span&gt;, 而且过期时间定为60秒,我们就只能安静的等哈等! &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这绝对是应该优化的默认配置.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="ct_default_py.png（PNG 图像，814x201 像素）" src="http://zoomq.qiniudn.com/ZHGDG/2014/140111-CBInstallfest.1/ct_default_py.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;默认安装了Python 点赞!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="_5"&gt;问题&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;对于可以通过内核接口,调整板上 &lt;span class="caps"&gt;LED&lt;/span&gt; 灯的事儿&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这么有趣,为毛不给出对应的文档?&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;两次都上了 Nand 镜像文件名的当! 比如: &lt;/p&gt;
&lt;p&gt;:::text
http://dl.cubieboard.org/software/a20-cubietruck/lubuntu/ \
ct-lubuntu-nand-v1.01/ct-lubuntu-server/lubuntu-server-nand.img.gz
ct-lubuntu-nand-v1.00/ct-lubuntu-server-20131026/lubuntu-server-nand.img.gz ct-lubuntu-nand-v1.00/&lt;span class="caps"&gt;VGA&lt;/span&gt;/lubuntu-server-nand.img.gz&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;从下载路径的确可以看出是针对什么的镜像;
但是,无论哪种版本的镜像, lubuntu 的下载下来
都是 &lt;code&gt;lubuntu-server-nand.img.gz&lt;/code&gt;
解压缩 也都是 &lt;code&gt;lubuntu-server-nand.img&lt;/code&gt;
根本就看不出什么是什么了! 强烈建议,重新制定版本规范,也包含最终下载文件名;比如:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ct&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lubuntu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;13.06&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nand&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
&lt;span class="n"&gt;ct&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;vga&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lubuntu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;13.06&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;server&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;nand&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="vga"&gt;&lt;span class="caps"&gt;VGA&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;是的,兴冲冲,回家准备接上网络,开始家庭服务器的配置!
结果发现,5年前的液瞐屏幕接上没有反应! 再扛来老婆的新液瞐屏也是只有间或的白色闪线,没有信号输出!&lt;/p&gt;
&lt;p&gt;这就要了亲命! &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;命令行上加载驱动,启动wifi 接入家庭无线网络,不是不行,只是没必要,因为以后的正当运行环境是拉网线的&lt;/li&gt;
&lt;li&gt;然而,网络和能接 &lt;span class="caps"&gt;HDMI&lt;/span&gt; 的液瞐电视不是一房,没办法现拉根网线去&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以,果断 google 之!
果然,是常见问题! 居然 &lt;span class="caps"&gt;VGA&lt;/span&gt; 的输出是需要特殊系统镜像的!&lt;/p&gt;
&lt;p&gt;这也才发现, &lt;span class="caps"&gt;CB3&lt;/span&gt; 的 &lt;span class="caps"&gt;VGA&lt;/span&gt; 支持系统镜像,居然只有在 &lt;code&gt;lubuntu-nand-v1.00&lt;/code&gt; 中有,
&lt;code&gt;lubuntu-nand-v1.01&lt;/code&gt; 中还没有完成兼容!&lt;/p&gt;
&lt;p&gt;重新刷上对口的 &lt;span class="caps"&gt;OS&lt;/span&gt;, 这下子终于见到熟悉的命令行界面了!!!&lt;/p&gt;
&lt;p&gt;但是:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Welcome to Linaro 13.08 (GNU/Linux 3.4.61+ armv7l)

 * Documentation:  https://wiki.linaro.org/
New release '13.10' available.
Run 'do-release-upgrade' to upgrade to it.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这倒底是升级呢? 还是不升级呢?!&lt;/p&gt;
&lt;h3 id="ip"&gt;&lt;span class="caps"&gt;IP&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;修订: &lt;code&gt;/etc/network/interfaces&lt;/code&gt; 为:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;auto lo eth0
iface lo inet loopback
&lt;span class="c"&gt;#iface eth0 inet dhcp&lt;/span&gt;
iface eth0 inet static

address 192.168.0.111
gateway 192.168.0.1
netmask 255.255.255.0
network 192.168.0.0
broadcast 192.168.0.255
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;重启网络:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;/etc/init.d/networking restart
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;就将原先每次重启时,可能变化的动态 &lt;span class="caps"&gt;IP&lt;/span&gt; 变成内网的静态 &lt;span class="caps"&gt;IP&lt;/span&gt; 了&lt;/p&gt;
&lt;h3 id="connection-refused"&gt;Connection refused&lt;/h3&gt;
&lt;p&gt;然后,配置了 &lt;code&gt;sudo&lt;/code&gt; 用户,刷了初始口令,就可以离开 &lt;span class="caps"&gt;VGA&lt;/span&gt; 远程随时随地进行控制了!&lt;/p&gt;
&lt;p&gt;可是竟然反馈说: &lt;code&gt;Connection refused&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;果断 Google 发布,是常见问题!&lt;/p&gt;
&lt;p&gt;&lt;a href="http://askubuntu.com/questions/30080/how-to-solve-connection-refused-errors-in-ssh-connection"&gt;openssh - How to solve ‘Connection refused’ errors in &lt;span class="caps"&gt;SSH&lt;/span&gt; connection? - Ask Ubuntu&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;完全无法相信自个儿的眼睛! 竟然是因为根本没有 &lt;code&gt;sshd&lt;/code&gt; 进程运行的原因!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install openssh-server openssh-client
sudo /etc/init.d/ssh start
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;再尝试&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;ssh&lt;/span&gt; &lt;span class="mf"&gt;192.168.0.111&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一切正常了!&lt;/p&gt;
&lt;h3 id="ftab"&gt;ftab&lt;/h3&gt;
&lt;p&gt;看&lt;span class="caps"&gt;CB3&lt;/span&gt; 的硬件参数,应该有8G 内置空间的, 但是查询:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;
&lt;span class="n"&gt;Filesystem&lt;/span&gt;      &lt;span class="n"&gt;Size&lt;/span&gt;  &lt;span class="n"&gt;Used&lt;/span&gt; &lt;span class="n"&gt;Avail&lt;/span&gt; &lt;span class="n"&gt;Use&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;Mounted&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;       &lt;span class="mf"&gt;2.0&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="mi"&gt;1019&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;  &lt;span class="mi"&gt;907&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;  &lt;span class="mi"&gt;53&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;
&lt;span class="n"&gt;devtmpfs&lt;/span&gt;        &lt;span class="mi"&gt;913&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;  &lt;span class="mf"&gt;4.0&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;  &lt;span class="mi"&gt;913&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;   &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;
&lt;span class="n"&gt;none&lt;/span&gt;            &lt;span class="mf"&gt;4.0&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;     &lt;span class="mi"&gt;0&lt;/span&gt;  &lt;span class="mf"&gt;4.0&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;   &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;fs&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;cgroup&lt;/span&gt;
&lt;span class="n"&gt;none&lt;/span&gt;            &lt;span class="mi"&gt;183&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;  &lt;span class="mi"&gt;160&lt;/span&gt;&lt;span class="n"&gt;K&lt;/span&gt;  &lt;span class="mi"&gt;183&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;   &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;
&lt;span class="n"&gt;none&lt;/span&gt;            &lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;     &lt;span class="mi"&gt;0&lt;/span&gt;  &lt;span class="mf"&gt;5.0&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;   &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;
&lt;span class="n"&gt;none&lt;/span&gt;            &lt;span class="mi"&gt;913&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;     &lt;span class="mi"&gt;0&lt;/span&gt;  &lt;span class="mi"&gt;913&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;   &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;shm&lt;/span&gt;
&lt;span class="n"&gt;none&lt;/span&gt;            &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;     &lt;span class="mi"&gt;0&lt;/span&gt;  &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="n"&gt;M&lt;/span&gt;   &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;不对哪,肿么只有2G 的空间?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;fdisk&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nand&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;7700&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7700742144&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="mi"&gt;255&lt;/span&gt; &lt;span class="n"&gt;heads&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;track&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;936&lt;/span&gt; &lt;span class="n"&gt;cylinders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="mi"&gt;15040512&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;
&lt;span class="n"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Sector&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logical&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;physical&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minimum&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;optimal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="n"&gt;identifier&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;0x00000000&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nand&lt;/span&gt; &lt;span class="n"&gt;doesn&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="n"&gt;contain&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;valid&lt;/span&gt; &lt;span class="n"&gt;partition&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nanda&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;67&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;67108864&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="mi"&gt;255&lt;/span&gt; &lt;span class="n"&gt;heads&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;track&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="n"&gt;cylinders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="mi"&gt;131072&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;
&lt;span class="n"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Sector&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logical&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;physical&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minimum&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;optimal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="n"&gt;identifier&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;0x00000000&lt;/span&gt;

     &lt;span class="n"&gt;Device&lt;/span&gt; &lt;span class="n"&gt;Boot&lt;/span&gt;      &lt;span class="n"&gt;Start&lt;/span&gt;         &lt;span class="n"&gt;End&lt;/span&gt;      &lt;span class="n"&gt;Blocks&lt;/span&gt;   &lt;span class="n"&gt;Id&lt;/span&gt;  &lt;span class="n"&gt;System&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandb&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2147&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2147483648&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="mi"&gt;255&lt;/span&gt; &lt;span class="n"&gt;heads&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;track&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;261&lt;/span&gt; &lt;span class="n"&gt;cylinders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="mi"&gt;4194304&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;
&lt;span class="n"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Sector&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logical&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;physical&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minimum&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;optimal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="n"&gt;identifier&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;0x00000000&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandb&lt;/span&gt; &lt;span class="n"&gt;doesn&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="n"&gt;contain&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;valid&lt;/span&gt; &lt;span class="n"&gt;partition&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandc&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5469&lt;/span&gt; &lt;span class="n"&gt;&lt;span class="caps"&gt;MB&lt;/span&gt;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5469372416&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="mi"&gt;255&lt;/span&gt; &lt;span class="n"&gt;heads&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;63&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;track&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;664&lt;/span&gt; &lt;span class="n"&gt;cylinders&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;total&lt;/span&gt; &lt;span class="mi"&gt;10682368&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt;
&lt;span class="n"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;sectors&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Sector&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;logical&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;physical&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;O&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;minimum&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;optimal&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;512&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt;
&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="n"&gt;identifier&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;0x00000000&lt;/span&gt;

&lt;span class="n"&gt;Disk&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandc&lt;/span&gt; &lt;span class="n"&gt;doesn&lt;/span&gt;&lt;span class="err"&gt;'&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="n"&gt;contain&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;valid&lt;/span&gt; &lt;span class="n"&gt;partition&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;果然有 &lt;code&gt;/dev/nandc&lt;/code&gt; 没有挂上;&lt;/p&gt;
&lt;p&gt;于是,先建立文件系统:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;mkfs.ext4 /dev/nandc
mke2fs 1.42.5 (29-Jul-2012)
Filesystem label=
OS type: Linux
Block size=4096 (log=2)
Fragment size=4096 (log=2)
...

Allocating group tables: done
Writing inode tables: done
Creating journal (32768 blocks):
done
Writing superblocks and filesystem accounting information: done
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后,不折腾,直接使用: &lt;code&gt;/etc/rc.local&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;mount&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandc&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mnt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nandc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;追加一行,完成! 这样重启时,将在最后一刻重新挂接上丢失的分区&lt;/p&gt;
&lt;h3 id="_6"&gt;其它&lt;/h3&gt;
&lt;p&gt;习惯性的安装 &lt;code&gt;htop&lt;/code&gt; 一看:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ct_default_deamon.png（PNG 图像，1005x709 像素）" src="http://zoomq.qiniudn.com/ZHGDG/2014/140111-CBInstallfest.1/ct_default_deamon.png"/&gt;&lt;/p&gt;
&lt;p&gt;目测, 这一镜像的程序猿是 &lt;code&gt;LAMP&lt;/code&gt; 标准屌丝web 程序猿哪!!!&lt;/p&gt;
&lt;p&gt;按惯例, &lt;code&gt;server&lt;/code&gt; 版的发行系统镜像,应该是最小运维依赖核心系统:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;有最稳定的 内核&lt;/li&gt;
&lt;li&gt;包含最常见的系统工具&lt;/li&gt;
&lt;li&gt;包含最常见的硬件驱动&lt;/li&gt;
&lt;li&gt;默认启动 &lt;code&gt;sshd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;默认配置好 &lt;code&gt;apt-fast&lt;/code&gt; ~ 用 axel 来加速 apt-get 软件安装&lt;/li&gt;
&lt;li&gt;..etc. 总之是面向 &lt;span class="caps"&gt;SA&lt;/span&gt; 的一个方便环境&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;怎么也没有想到,默认是启动跑了 &lt;code&gt;MySQL&lt;/code&gt;+&lt;code&gt;Apache&lt;/code&gt; 这两种一般 &lt;span class="caps"&gt;SA&lt;/span&gt; 一见就删除的东西&lt;/p&gt;
&lt;p&gt;有点 &lt;code&gt;细思恐极&lt;/code&gt; &lt;span class="caps"&gt;CB&lt;/span&gt; 应该及时提升自个儿 &lt;span class="caps"&gt;SA&lt;/span&gt; 的运营观念了,不能停留在上世纪了呢…&lt;/p&gt;
&lt;h1 id="todo"&gt;&lt;span class="caps"&gt;TODO&lt;/span&gt;&lt;/h1&gt;
&lt;p&gt;为了完全替代俺家原先的家庭服务器,可以支持多系统的内网络使用, 还要折腾的事儿有:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过 &lt;span class="caps"&gt;USB&lt;/span&gt; 挂接 FreeBSD 格式化的 &lt;span class="caps"&gt;UFS&lt;/span&gt; 分区&lt;/li&gt;
&lt;li&gt;通过板载 &lt;span class="caps"&gt;SATA&lt;/span&gt; 接口,加装 2.5吋 1T 新硬盘&lt;/li&gt;
&lt;li&gt;安装 Samba 系统,提供空间给其它 M$ 设备使用&lt;/li&gt;
&lt;li&gt;安装 netatalk ,支持 &lt;code&gt;Apple Time Machine&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;安装 MLDonkey 通过网页控制 &lt;code&gt;P2P&lt;/code&gt; 下载&lt;/li&gt;
&lt;li&gt;安装 MiniDLNA 发布家庭媒体服务,支持远程播放下载的电影&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;总之,要搾干 &lt;span class="caps"&gt;CB&lt;/span&gt; 的一切潜能!&lt;/p&gt;
&lt;h1 id="_7"&gt;参考:&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://dyhr.com/2013/11/22/how-to-install-lubuntu-server-on-cubietruck-from-mac-os-x/"&gt;How to install Lubuntu Server on Cubietruck from Mac &lt;span class="caps"&gt;OS&lt;/span&gt; X&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="cbuieboard"&gt;CbuieBoard&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.ifanr.com/367898"&gt;Cubieboard ：享誉国外 Linux 圈子的中国产品- 爱范儿· Beats of Bits&lt;/a&gt;
- &lt;a href="http://linux-sunxi.org/Cubieboard/zh_cn"&gt;Cubieboard/zh cn - linux-sunxi.org&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://cubieboard.org/2013/10/30/cubieboard3-cubietruck-is-all-ready/"&gt;Cubieboard3: Cubietruck is all ready&lt;/a&gt; (cubieboard.org)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.cubieboard.org/tutorials/cb3/start"&gt;Tutorials for Cubietruck&lt;/a&gt; (cubieboard.org)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.cubieboard.org/faq/faqs"&gt;&lt;span class="caps"&gt;FAQ&lt;/span&gt;&lt;/a&gt; (cubieboard.org)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="linux"&gt;Linux&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.cubieboard.org/tutorials/common/livesuit_installation_guide"&gt;LiveSuit Guide&lt;/a&gt; (cubieboard.org)&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.lubuntu.net/"&gt;www.lubuntu.net&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://help.ubuntu.com/community/InstallingANewHardDrive?action=fullsearch&amp;amp;value=linkto%3A%22InstallingANewHardDrive%22&amp;amp;context=180"&gt;InstallingANewHardDrive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://archlinuxarm.org/platforms/armv7/allwinner/cubieboard"&gt;Cubieboard | Arch Linux &lt;span class="caps"&gt;ARM&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://archlinuxarm.org/platforms/armv7/allwinner/cubieboard-2"&gt;Cubieboard 2 | Arch Linux &lt;span class="caps"&gt;ARM&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="changelog"&gt;Changelog&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;140119 终于汇集了所有唠叨!&lt;/li&gt;
&lt;li&gt;140111 开始总结&lt;/li&gt;
&lt;/ul&gt;</summary><category term="MAC"></category><category term="CT"></category><category term="Cubier"></category><category term="CubieBoard"></category><category term="ZQ"></category></entry><entry><title>from Lion jump into Mavericks</title><link href="/jump-into-mavericks.html" rel="alternate"></link><updated>2013-12-30T00:00:00+08:00</updated><author><name>Zoom.Quiet</name></author><id>tag:,2013-12-30:jump-into-mavericks.html</id><summary type="html">&lt;h1 id="_1"&gt;为毛&lt;/h1&gt;
&lt;h1 id="_2"&gt;回顾&lt;/h1&gt;
&lt;h2 id="pyenv"&gt;Pyenv&lt;/h2&gt;
&lt;h2 id="leo"&gt;Leo&lt;/h2&gt;
&lt;h2 id="displaylink"&gt;DisplayLink&lt;/h2&gt;
&lt;h1 id="changelog"&gt;Changelog&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;140110&amp;nbsp;开始总结&lt;/li&gt;
&lt;/ul&gt;</summary><category term="MAC"></category><category term="Leo"></category><category term="Pyenv"></category><category term="ZQ"></category></entry></feed>